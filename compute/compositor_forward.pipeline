#fragment

layout(location = 0) out vec4 gColor;
layout(location = 1) out vec4 gUV;

in vec2 vPos;
in vec2 vUV;

flat in int vInstance;

layout(std430, binding = 0) readonly buffer textures {
    sampler2D handles[];
};

void main() {
    gColor = texture(handles[vInstance * 2 + 0], vUV);
    gUV = texture(handles[vInstance * 2 + 1], vUV);
    if (gColor.a == 0.0) discard;
}